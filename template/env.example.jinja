# Environment Configuration for {{ project_name }}
# Copy this file to .env and update with your values
# 
# IMPORTANT: Variables prefixed with APP_ are exposed to the browser via /env.js
# NEVER put secrets, tokens, or credentials in APP_* variables

# ============================================================================
# DOCKER CONFIGURATION
# ============================================================================

# Frontend container port mapping (host port)
FRONTEND_PORT={{ docker_port }}

# Backend container port (uncomment when adding backend)
# BACKEND_PORT=8000

# MongoDB port (uncomment when adding database)
# MONGO_PORT=27017


# ============================================================================
# PUBLIC RUNTIME CONFIGURATION (Exposed to browser via /env.js)
# ============================================================================

# Backend API base URL
# Development: http://localhost:8000
# Production: https://api.yourdomain.com
APP_API_BASE_URL={{ api_base_url_dev }}

{% if use_azure_auth -%}
# Azure AD Authentication (MSAL.js)
# Register your application at https://portal.azure.com > Azure Active Directory > App registrations
APP_AZURE_CLIENT_ID={{ azure_client_id or 'your-azure-client-id' }}
APP_AZURE_TENANT_ID={{ azure_tenant_id or 'your-azure-tenant-id' }}
APP_AZURE_API_SCOPE={{ azure_api_scope or 'api://your-backend-app-id/access_as_user' }}

{%- endif %}
# Development mode - bypass authentication (ONLY for local development)
APP_DEV_NO_AUTH=true

# Environment name (development, staging, production)
APP_ENVIRONMENT=development


# ============================================================================
# BACKEND CONFIGURATION (Not exposed to browser)
# ============================================================================

# Uncomment and configure when adding a backend service

# Database connection string
# MONGODB_URI=mongodb://admin:password@mongo:27017/{{ package_name }}?authSource=admin

# MongoDB root credentials (for development)
# MONGO_ROOT_USER=admin
# MONGO_ROOT_PASSWORD=change-this-password

# Backend API secret key (for JWT signing, etc.)
# API_SECRET_KEY=your-secret-key-here

{% if use_azure_deployment -%}
# ============================================================================
# AZURE DEPLOYMENT (Not exposed to browser)
# ============================================================================

# Azure subscription and resource group
# AZURE_SUBSCRIPTION_ID={{ azure_subscription_id or 'your-subscription-id' }}
# AZURE_RESOURCE_GROUP={{ azure_resource_group }}

# Azure Container Registry
# ACR_LOGIN_SERVER={{ azure_container_registry_name }}.azurecr.io
# ACR_USERNAME=<from Azure Portal>
# ACR_PASSWORD=<from Azure Portal>

{%- endif %}

# ============================================================================
# NOTES
# ============================================================================
# 
# Security Best Practices:
# 1. Never commit .env files to version control (already in .gitignore)
# 2. Use different values for dev/staging/prod environments
# 3. Rotate credentials regularly
# 4. Use Azure Key Vault or similar for production secrets
# 5. Only expose non-sensitive config via APP_* variables
# 
# Runtime Environment Injection:
# - APP_* variables are injected into /env.js at container startup
# - Access them in your app via: (window as any).__ENV__.APP_VARIABLE_NAME
# - No rebuild needed when changing configuration
# - Update .env, restart container, changes take effect immediately

